# –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ (435 –∫–∞—Ä—Ç–æ—á–µ–∫)

## üìä –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–í—Å–µ–≥–æ –≤–æ–ø—Ä–æ—Å–æ–≤:** 435
- **–ö–∞—Ç–µ–≥–æ—Ä–∏–π:** 5
- **–ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π:** 29
- **–ö–∞—Ä—Ç–æ—á–µ–∫ –≤ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏:** 15

## üìÅ SQL-—Ñ–∞–π–ª—ã

–í—Å–µ –≤–æ–ø—Ä–æ—Å—ã —Ä–∞–∑–±–∏—Ç—ã –Ω–∞ 5 —Ñ–∞–π–ª–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:

| –§–∞–π–ª                                | –ö–∞—Ç–µ–≥–æ—Ä–∏—è                 | –í–æ–ø—Ä–æ—Å–æ–≤ | –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π |
| ----------------------------------- | ------------------------- | -------- | ------------ |
| `questions_part1_food.sql`          | üçï –ï–¥–∞ –∏ –Ω–∞–ø–∏—Ç–∫–∏          | 105      | 7            |
| `questions_part2_entertainment.sql` | üé¨ –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è –∏ –∫—É–ª—å—Ç—É—Ä–∞ | 105      | 7            |
| `questions_part3_animals.sql`       | üê∂ –ñ–∏–≤–æ—Ç–Ω—ã–µ               | 60       | 4            |
| `questions_part4_relationships.sql` | üíû –û—Ç–Ω–æ—à–µ–Ω–∏—è –∏ –ª–∏—á–Ω–æ—Å—Ç—å   | 90       | 6            |
| `questions_part5_leisure.sql`       | üèñÔ∏è –î–æ—Å—É–≥ –∏ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è    | 75       | 5            |

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Supabase SQL Editor (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –≤ Supabase
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **SQL Editor**
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä
5. –ù–∞–∂–º–∏—Ç–µ **Run** –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
6. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –¥–ª—è –≤—Å–µ—Ö 5 —Ñ–∞–π–ª–æ–≤ –≤ –ø–æ—Ä—è–¥–∫–µ:
   - Part 1: –ï–¥–∞
   - Part 2: –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è
   - Part 3: –ñ–∏–≤–æ—Ç–Ω—ã–µ
   - Part 4: –û—Ç–Ω–æ—à–µ–Ω–∏—è
   - Part 5: –î–æ—Å—É–≥

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ psql CLI

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –≤–∞—à–µ–π –ë–î Supabase
psql "postgresql://[YOUR_CONNECTION_STRING]"

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª—ã –ø–æ –æ—á–µ—Ä–µ–¥–∏
\i 'c:/Users/–°–∞–ª–∏–º/Desktop/Together_tests/Docs/questions_part1_food.sql'
\i 'c:/Users/–°–∞–ª–∏–º/Desktop/Together_tests/Docs/questions_part2_entertainment.sql'
\i 'c:/Users/–°–∞–ª–∏–º/Desktop/Together_tests/Docs/questions_part3_animals.sql'
\i 'c:/Users/–°–∞–ª–∏–º/Desktop/Together_tests/Docs/questions_part4_relationships.sql'
\i 'c:/Users/–°–∞–ª–∏–º/Desktop/Together_tests/Docs/questions_part5_leisure.sql'
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –û–¥–∏–Ω —Ñ–∞–π–ª

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å—Ä–∞–∑—É, —Å–æ–∑–¥–∞–π—Ç–µ –æ–¥–∏–Ω —Ñ–∞–π–ª:

```sql
-- –í Supabase SQL Editor –∏–ª–∏ psql
\i 'questions_part1_food.sql'
\i 'questions_part2_entertainment.sql'
\i 'questions_part3_animals.sql'
\i 'questions_part4_relationships.sql'
\i 'questions_part5_leisure.sql'
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —É–±–µ–¥–∏—Ç–µ—Å—å:

1. **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–æ–∑–¥–∞–Ω—ã** - –í—Å–µ 5 –∫–∞—Ç–µ–≥–æ—Ä–∏–π –¥–æ–ª–∂–Ω—ã —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —Ç–∞–±–ª–∏—Ü–µ `categories`
2. **–ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–æ–∑–¥–∞–Ω—ã** - –í—Å–µ 29 –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω—ã (—Å–º. `subcategories_migration.sql`)
3. **–¢–∞–±–ª–∏—Ü–∞ questions –≥–æ—Ç–æ–≤–∞** - –ö–æ–ª–æ–Ω–∫–∞ `subcategory_id` –¥–æ–ª–∂–Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ SQL Editor:

```sql
SELECT
  c.name as category,
  c.icon,
  COUNT(sc.id) as subcategories_count
FROM categories c
LEFT JOIN subcategories sc ON sc.category_id = c.id
GROUP BY c.id, c.name, c.icon
ORDER BY c.order_index;
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:

- üçï –ï–¥–∞ –∏ –Ω–∞–ø–∏—Ç–∫–∏: 7
- üé¨ –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è: 7
- üê∂ –ñ–∏–≤–æ—Ç–Ω—ã–µ: 4
- üíû –û—Ç–Ω–æ—à–µ–Ω–∏—è: 6
- üèñÔ∏è –î–æ—Å—É–≥: 5

### –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã

–í—Å–µ INSERT —Å–æ–¥–µ—Ä–∂–∞—Ç `ON CONFLICT DO NOTHING`, –ø–æ—ç—Ç–æ–º—É:

- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
- ‚úÖ –ù–µ —Å–æ–∑–¥–∞—Å—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- ‚úÖ –ü—Ä–æ–ø—É—Å—Ç–∏—Ç —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã

## üìù –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤–æ–ø—Ä–æ—Å–æ–≤

```sql
SELECT
  c.name as category,
  sc.name as subcategory,
  COUNT(q.id) as questions_count
FROM categories c
LEFT JOIN subcategories sc ON sc.category_id = c.id
LEFT JOIN questions q ON q.subcategory_id = sc.id
GROUP BY c.id, c.name, sc.id, sc.name, c.order_index, sc.order_index
ORDER BY c.order_index, sc.order_index;
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–∞–∂–¥–∞—è –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å 15 –≤–æ–ø—Ä–æ—Å–æ–≤.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É—Ç–µ–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

```sql
SELECT image_url, COUNT(*)
FROM questions
GROUP BY image_url
HAVING COUNT(*) > 1;
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—É—Å—Ç–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–Ω–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤).

## üé® –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤:

1. **–°–∫–∞—á–∞–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** –¥–ª—è –≤—Å–µ—Ö –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –∏–∑ `All_Categories_Cards.md`
   - –ò—Å—Ç–æ—á–Ω–∏–∫–∏: Unsplash, Pexels, Pixabay
2. **–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è**
   - –†–∞–∑–º–µ—Ä: 800x1067px (3:4)
   - –§–æ—Ä–º–∞—Ç: JPG
   - –ö–∞—á–µ—Å—Ç–≤–æ: –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è web

3. **–†–∞–∑–º–µ—Å—Ç–∏—Ç–µ –≤ –ø–∞–ø–∫–∞—Ö**
   - `/public/images/subcategories/[folder-name]/card-1.jpg` –¥–æ `card-15.jpg`

4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ**
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–∞—Ä—Ç–æ—á–µ–∫

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **–í—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏:** `All_Categories_Cards.md` (797 —Å—Ç—Ä–æ–∫)
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:** `Images_Structure.md`
- **–°—Ç–∞—Ç—É—Å –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è:** `Categories_Status_Report.md`

## üêõ –ü—Ä–æ–±–ª–µ–º—ã?

### –û—à–∏–±–∫–∞: –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

```
‚ö†Ô∏è  –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è "–ù–∞–∑–≤–∞–Ω–∏–µ" –Ω–µ –Ω–∞–π–¥–µ–Ω–∞!
```

**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–ø—É—Å—Ç–∏—Ç–µ `subcategories_migration.sql` —Å–Ω–∞—á–∞–ª–∞.

### –û—à–∏–±–∫–∞: –ö–æ–ª–æ–Ω–∫–∞ subcategory_id –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

```
ERROR: column "subcategory_id" does not exist
```

**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é:

```sql
ALTER TABLE questions
ADD COLUMN IF NOT EXISTS subcategory_id UUID
REFERENCES subcategories(id) ON DELETE SET NULL;
```

### –ù–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏

–ï—Å–ª–∏ –Ω–µ –≤–∏–¥–∏—Ç–µ `RAISE NOTICE` —Å–æ–æ–±—â–µ–Ω–∏—è:

- –í Supabase SQL Editor: —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –º–æ–ª—á–∞
- –í psql: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É `client_min_messages`

## ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç

- [ ] –í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–æ–∑–¥–∞–Ω—ã (5)
- [ ] –í—Å–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–æ–∑–¥–∞–Ω—ã (29)
- [ ] –¢–∞–±–ª–∏—Ü–∞ questions –∏–º–µ–µ—Ç subcategory_id
- [ ] –ó–∞–ø—É—â–µ–Ω questions_part1_food.sql (105 –≤–æ–ø—Ä–æ—Å–æ–≤)
- [ ] –ó–∞–ø—É—â–µ–Ω questions_part2_entertainment.sql (105 –≤–æ–ø—Ä–æ—Å–æ–≤)
- [ ] –ó–∞–ø—É—â–µ–Ω questions_part3_animals.sql (60 –≤–æ–ø—Ä–æ—Å–æ–≤)
- [ ] –ó–∞–ø—É—â–µ–Ω questions_part4_relationships.sql (90 –≤–æ–ø—Ä–æ—Å–æ–≤)
- [ ] –ó–∞–ø—É—â–µ–Ω questions_part5_leisure.sql (75 –≤–æ–ø—Ä–æ—Å–æ–≤)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ (435 –≤–æ–ø—Ä–æ—Å–æ–≤)
- [ ] –ö–∞–∂–¥–∞—è –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è –∏–º–µ–µ—Ç 15 –≤–æ–ø—Ä–æ—Å–æ–≤

---

**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–î–∞—Ç–∞:** 2025-01-09  
**–ü—Ä–æ–µ–∫—Ç:** MatchVibe
