# ‚úÖ –§–ò–ù–ê–õ–¨–ù–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê - Mini App —Å inline –∫–Ω–æ–ø–∫–∞–º–∏

## üéâ –í–°–Å –ò–°–ü–†–ê–í–õ–ï–ù–û!

–¢–µ–ø–µ—Ä—å –±–æ—Ç **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç:

- ‚úÖ –ï—Å–ª–∏ URL **HTTPS** ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **inline –∫–Ω–æ–ø–∫–∏** —Å Mini App
- ‚úÖ –ï—Å–ª–∏ URL **HTTP** ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

---

## üöÄ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢

### –®–∞–≥ 1: –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ ngrok/localtunnel –∑–∞–ø—É—â–µ–Ω

**–í–∞—Ä–∏–∞–Ω—Ç A - ngrok:**

```bash
ngrok http 3002
```

**–í–∞—Ä–∏–∞–Ω—Ç B - localtunnel (–ø—Ä–æ—â–µ):**

```bash
npx localtunnel --port 3002
```

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ **HTTPS URL** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://abc123.ngrok.io`)

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç–µ .env.local

–û—Ç–∫—Ä–æ–π—Ç–µ `.env.local` –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```env
NEXT_PUBLIC_APP_URL=https://–≤–∞—à-url-–∑–¥–µ—Å—å.ngrok.io
```

**‚ö†Ô∏è –í–ê–ñ–ù–û:** URL –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `https://`!

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ Mini App

```bash
pnpm dev
```

### –®–∞–≥ 4: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

```bash
pnpm bot:dev
```

### –®–∞–≥ 5: –¢–ï–°–¢–ò–†–£–ô–¢–ï! üéâ

1. –û—Ç–∫—Ä–æ–π—Ç–µ @VibesMatch_bot –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
3. **–ü–û–Ø–í–ò–¢–°–Ø –ö–ù–û–ü–ö–ê "üéÆ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É"**
4. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É
5. **Mini App –æ—Ç–∫—Ä–æ–µ—Ç—Å—è!** ‚úÖ

---

## üìä –°—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏:

```
‚úÖ Bot started successfully!
üì± Bot username: @VibesMatch_bot
```

–ê –≤ `.env.local` –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:

```
NEXT_PUBLIC_APP_URL=https://... (HTTPS!)
```

---

## üéØ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### ‚úÖ –£–º–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–Ω–æ–ø–æ–∫

–ö–æ–¥ —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç URL:

```typescript
const isHttps = APP_URL.startsWith('https://')

if (isHttps) {
  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º inline –∫–Ω–æ–ø–∫—É —Å web_app
  reply_markup: {
    inline_keyboard: [
      [
        {
          text: 'üéÆ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É',
          web_app: { url: APP_URL },
        },
      ],
    ]
  }
} else {
  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è HTTP
  // (–∫–∞–∫ –æ—Ç–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ Menu Button)
}
```

### ‚úÖ –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã

- `/start` - inline –∫–Ω–æ–ø–∫–∞ "üéÆ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É"
- `/start invite_CODE` - inline –∫–Ω–æ–ø–∫–∞ "üéÆ –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è"
- `/play` - inline –∫–Ω–æ–ø–∫–∞ "üéÆ –°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É"
- `/stats` - inline –∫–Ω–æ–ø–∫–∞ "üìä –û—Ç–∫—Ä—ã—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É"
- `/profile` - inline –∫–Ω–æ–ø–∫–∞ "üë§ –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ—Ñ–∏–ª—å"

---

## üêõ Troubleshooting

### –ö–Ω–æ–ø–∫–∞ –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è?

**–ü—Ä–∏—á–∏–Ω–∞:** `.env.local` —Å–æ–¥–µ—Ä–∂–∏—Ç HTTP URL

**–†–µ—à–µ–Ω–∏–µ:**

1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ ngrok/localtunnel –∑–∞–ø—É—â–µ–Ω
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ HTTPS URL
3. –û–±–Ω–æ–≤–∏—Ç–µ `.env.local`:
   ```env
   NEXT_PUBLIC_APP_URL=https://–≤–∞—à-–Ω–æ–≤—ã–π-url.ngrok.io
   ```
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞: `pnpm bot:dev`

### –ö–Ω–æ–ø–∫–∞ —Å–µ—Ä–∞—è/–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è?

**–ü—Ä–∏—á–∏–Ω–∞:** Telegram –Ω–µ –º–æ–∂–µ—Ç –¥–æ—Å—Ç—É—á–∞—Ç—å—Å—è –¥–æ URL

**–†–µ—à–µ–Ω–∏–µ:**

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `pnpm dev` –∑–∞–ø—É—â–µ–Ω
2. –û—Ç–∫—Ä–æ–π—Ç–µ URL –≤ –±—Ä–∞—É–∑–µ—Ä–µ - –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å
3. –î–ª—è localtunnel: –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ –Ω–∞–∂–º–∏—Ç–µ "Continue"
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

### "tunnel password required"?

–≠—Ç–æ **localtunnel** –∑–∞—â–∏—Ç–∞. –ü—Ä–æ—Å—Ç–æ:

1. –û—Ç–∫—Ä–æ–π—Ç–µ URL –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ù–∞–∂–º–∏—Ç–µ "Continue" –∏–ª–∏ "Click to Continue"
3. –ì–æ—Ç–æ–≤–æ! –ë–æ–ª—å—à–µ —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å –Ω–µ –±—É–¥–µ—Ç

### –ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤–º–µ—Å—Ç–æ –∫–Ω–æ–ø–æ–∫?

**–ü—Ä–∏—á–∏–Ω–∞:** `.env.local` —Å–æ–¥–µ—Ä–∂–∏—Ç HTTP –≤–º–µ—Å—Ç–æ HTTPS

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL:
type .env.local | Select-String "NEXT_PUBLIC_APP_URL"

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
NEXT_PUBLIC_APP_URL=https://...

# –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
NEXT_PUBLIC_APP_URL=http://localhost:3002
```

---

## üí° –í–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ü—Ä–æ ngrok

**–ü–ª—é—Å—ã:**

- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω—ã–π
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π
- ‚úÖ –ò–∑–≤–µ—Å—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å

**–ú–∏–Ω—É—Å—ã:**

- ‚ùå –¢—Ä–µ–±—É–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é (authtoken)
- ‚ùå –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω: URL –º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ

**–ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:**

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://ngrok.com
2. –ü–æ–ª—É—á–∏—Ç–µ authtoken
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ: `ngrok authtoken YOUR_TOKEN`
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `ngrok http 3002`

### –ü—Ä–æ localtunnel

**–ü–ª—é—Å—ã:**

- ‚úÖ –ù–ï —Ç—Ä–µ–±—É–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å—Ä–∞–∑—É
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π

**–ú–∏–Ω—É—Å—ã:**

- ‚ùå –ú–µ–Ω–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π
- ‚ùå –ü—Ä–æ—Å–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏
- ‚ùå URL –º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**

```bash
npx localtunnel --port 3002
```

---

## üéâ –ì–û–¢–û–í–û!

–ü–æ—Å–ª–µ –≤—Å–µ—Ö —à–∞–≥–æ–≤ —É –≤–∞—Å –±—É–¥–µ—Ç:

‚úÖ Mini App —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ  
‚úÖ HTTPS —Ç—É–Ω–Ω–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω  
‚úÖ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω  
‚úÖ **Inline –∫–Ω–æ–ø–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç!**  
‚úÖ Mini App –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ –∫–ª–∏–∫—É

**–ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π!** üöÄ

---

## üìù Checklist

- [ ] ngrok/localtunnel –∑–∞–ø—É—â–µ–Ω
- [ ] HTTPS URL —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω
- [ ] `.env.local` –æ–±–Ω–æ–≤–ª—ë–Ω —Å HTTPS URL
- [ ] `pnpm dev` –∑–∞–ø—É—â–µ–Ω (–ø–æ—Ä—Ç 3002)
- [ ] `pnpm bot:dev` –∑–∞–ø—É—â–µ–Ω
- [ ] –í Telegram: `/start` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–Ω–æ–ø–∫—É "üéÆ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É"
- [ ] –ö–Ω–æ–ø–∫–∞ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞ (–Ω–µ —Å–µ—Ä–∞—è)
- [ ] Mini App –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ ‚úÖ

---

**–í–µ—Ä—Å–∏—è:** 2.0  
**–î–∞—Ç–∞:** 2025-01-08  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å HTTPS
